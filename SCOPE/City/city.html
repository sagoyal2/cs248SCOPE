<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>S.C.O.P.E</title>
	<link rel="stylesheet" href="city.css">
</head>
<body>
	<p id="title">Canvas is below here:</p>

	<div id = "main_container">
		<canvas id="c"> </canvas>
<!-- 		<div id ="optional_settings"/></div> -->
	</div>
</body>


<!-- Later I should move these shaders into a different file -->

<!-- PINK TRIANGLE SHADER -->
<!-- ####################################################### -->
<script id="pink-triangle-vertex-shader" type="VERTEX_SHADER">#version 300 es

	// an attribute is an input (in) to a vertex shader.
	// It will receive data from a buffer
	in vec4 a_position;

	// all shaders have a main function
	void main() {

	  // gl_Position is a special variable a vertex shader
	  // is responsible for setting
	  gl_Position = a_position;
	}

</script>

<script id="pink-triangle-fragment-shader" type="FRAGMENT_SHADER">#version 300 es

	// fragment shaders don't have a default precision so we need
	// to pick one. highp is a good default. It means "high precision"
	precision highp float;

	// we need to declare an output for the fragment shader
	out vec4 outColor;

	void main() {
	  // Just set the output to a constant redish-purple
	  outColor = vec4(1, 0, 0.5, 1);
	}

</script>
<!-- ####################################################### -->

<!-- CUBE SHADER -->
<!-- ####################################################### -->
<script id="cube-vertex-shader" type="VERTEX_SHADER">#version 300 es
	
	in vec4 a_position;
	in vec3 a_normal;

	uniform mat4 obj2world2NDC;
	uniform mat4 world2cameraInverseTranspose;

	out vec3 v_normal;

	void main(){

		//set world view
		gl_Position = obj2world2NDC * a_position;

		//pass the normal to the fragment shader
		v_normal = mat3(world2cameraInverseTranspose) * a_normal;
	}

</script>


<script id="cube-fragment-shader" type="FRAGMENT_SHADER">#version 300 es
	precision highp float;
	
	in vec3 v_normal;

	uniform vec3 v_light_dir;

	out vec4 outColor;

	void main(){
		vec3 surfaceNormal = normalize(v_normal);
		float light = dot(v_light_dir, surfaceNormal);

		outColor = vec4(0.53, 0.36, 0.71, 0.7);
		outColor.rgb *= light;
	}

</script>
<!-- ####################################################### -->

<!-- Code for rendering to screen -->
<script src = "../resources/math/matrix4by4.js"> </script>
<script src = "../resources/assets/cube.js"> </script>
<script src = "../resources/setup/createAndCompile.js"> </script>
<script src = "city.js"></script>
</html>


























